<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Rock Paper Scissors</title>
    <script>
        function computerPlay() {
            let rnd = Math.random();

            return (rnd < 0.33) ? "rock" :
                (rnd < 0.66) ? "paper" :
                "scissors";
        }

        function playRound(playerSelection, computerSelection) {
            let out;

            playerSelection = playerSelection.toLowerCase();
            computerSelection = computerSelection.toLowerCase();

            // let win = `You win! ${playerSelection} beats ${computerSelection}`;
            // let lose = `You lose! ${computerSelection} beats ${playerSelection}`;
            let win = 1, lose = -1;

            if (playerSelection == computerSelection) {
                // return "It's a tie! Nobody wins";
                return 0;
            }

            if (playerSelection == "rock") {
                if (computerSelection == "paper") return win;
                else return lose;
            }
            else if (playerSelection == "paper") {
                if (computerSelection == "rock") return win;
                else return lose;
            }
            else {
                if (computerSelection == "paper") return win;
                else return lose;
            }
        }

        function validateInput(input) {
            input = input.toLowerCase();
            return (input == "rock") || (input == "paper") || (input == "scissors");
        }

        function game() {
            let playerInput, computerInput, score = 0;

            for (let i = 0; i < 5; i++) {
                while (!validateInput(playerInput = prompt("Your choice?")));

                computerInput = computerPlay();
                score += playRound(playerInput, computerInput);

                console.log(playerInput + " vs " + computerInput);
                
            }

            console.log("You " + ((score > 0) ? "win" : "lose") + "!"); // 0 = loss atm
            console.log("Final score: " + score);
            
        }

        game();
    </script>
</head>
<body>
    <p>Only console for now</p>
</body>
</html>